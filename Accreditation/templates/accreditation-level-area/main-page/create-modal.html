{% load crispy_forms_tags %}

 <!-- Modal -->
	<div class="modal modal-blur fade" id="create-modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
		<div id='create-modal-dialog' class="modal-dialog modal-lg">
			<div class="modal-content">

				<div class="modal-header">
					<h1 class="modal-title">Add Level areas</h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>

				<div class="modal-body">

					<!-- PROGRESS BAR-->
					<div class="progress px-1" style="height: 3px;">
						<div class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
					</div>
					<div class="step-container d-flex justify-content-between">
						<div class="step-circle" onclick="displayStep(1)">1</div>
						<div class="step-circle" onclick="displayStep(2)">2</div>
					</div>
					
					<form id="multi-step-form">
						{% csrf_token %}
						<div class="step step-1">
							<div class="row align-items-center">
								<div class="col">
									<!-- Step 2 form fields here -->
									<h3>Step 1: Add Areas</h3>
								</div>
							
								<div class="col-auto d-print-none">
									<button id="add-form" type="button" class="btn btn-success" style="margin-top: -9px;">Add Area</button>
								</div>
							</div>

							<div id="area-form">
								{{area_formset.management_form}}
								<div id="form-container">
									{% for form in area_formset %}
										<div class="level-area-form">
											{{form.area|as_crispy_field}}
											{{form.label|as_crispy_field}}
									
										</div>
									{% endfor %}
								</div>
							</div>
							<button type="button" class="btn btn-primary next-step">Next</button>
						</div>
					
						<div class="step step-2">
							<!-- Step 3 form fields here -->
							<h3>Step 2: Complete the Setup</h3>
							<div class="mb-3">
								<p>Please click the Submit button if the setup of level areas are done. </p>
							</div>
							<button type="button" class="btn btn-primary prev-step">Previous</button>
							<button type="button" id="submit" data-id={{ pk }} class="btn btn-primary">Submit</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div> 
